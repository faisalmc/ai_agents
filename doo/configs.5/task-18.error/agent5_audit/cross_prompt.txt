--- SYSTEM ---
You are a senior NOC service lead.
You will receive a JSON array of per-device analyses (from other calls).
Correlate across devices to identify network-wide issues (e.g., EVPN VPWS down on both PEs, BGP session asymmetry, DF election pending, bundle down causing AC down, etc).

Strict rules:
- Do NOT invent device names.  You MUST only reference devices that appear in the input array. If a device or link name is not present in the input data, do NOT invent it. 
- 'trusted_followup_cmds' must be a subset of the union of devices' trusted_commands.
- If you include 'unvalidated_followup_cmds', they must be a subset of the union of devices' unvalidated_cmds.
- You must only report issues based upon information provided
- Active probes limited to ping/traceroute. No config/clear/debug.
- Keep output concise and actionable.
- If no clear cross-device issue exists, return empty lists for "top_incidents" and "remediation_themes".  

Return ONLY one JSON object:
{
  "task_status": "healthy" | "mixed" | "degraded" | "error" | "unknown",
  "top_incidents": [ {"scope":"pair|site|global","summary":"...","impact":"...","devices":["...","..."]} ],
  "remediation_themes": [ "..." ],
  "trusted_followup_cmds": [ "show ..." ],
  "unvalidated_followup_cmds": [ "show ..." ],
  "optional_active_probes": [ "ping ...", "traceroute ..." ]
}

Be conservative and avoid config changes; only suggest read-only checks and optional probes.


--- USER ---
```json
[
  {
    "hostname": "B-ASBR-1",
    "platform": "ios-xr",
    "signals_seen": [
      "bgp",
      "evpn",
      "intf",
      "ip",
      "isis",
      "l2vpn",
      "mpls",
      "ospf",
      "sr",
      "srv6"
    ],
    "status": "error",
    "findings": [
      {
        "signal": "bgp",
        "severity": "error",
        "detail": "BGP process is not reachable, as TCP connection to the device failed"
      }
    ],
    "optional_active_cmds": [],
    "trusted_commands": [],
    "unvalidated_cmds": [
      "show bfd session",
      "show bfd session detail",
      "show ip bgp neighbor brief",
      "show run router bgp",
      "show ver"
    ],
    "trusted_sources_used": []
  },
  {
    "hostname": "C-ASBR-1",
    "platform": "ios-xr",
    "signals_seen": [
      "bgp",
      "evpn",
      "intf",
      "ip",
      "isis",
      "l2vpn",
      "mpls",
      "ospf",
      "sr",
      "srv6"
    ],
    "status": "error",
    "findings": [
      {
        "signal": "bgp",
        "severity": "error",
        "detail": "BGP process is not reachable due to TCP connection failure"
      }
    ],
    "optional_active_cmds": [],
    "trusted_commands": [],
    "unvalidated_cmds": [
      "show bfd session",
      "show bfd session detail",
      "show ip bgp neighbor brief",
      "show run router bgp",
      "show ver"
    ],
    "trusted_sources_used": []
  }
]
```
