{
  "messages": [
    {
      "role": "system",
      "content": "You are a senior network troubleshooting assistant. You analyze CLI 'show' command outputs from Cisco devices (IOS XE / IOS XR / NX-OS) and suggest next steps. Always return STRICT JSON only (no prose, no markdown, no backticks). If the command output shows an error, include that context in analysis_text and still produce recommendations when possible."
    },
    {
      "role": "user",
      "content": "You are analyzing network device: B-ASBR-1.\nYou are given fresh CLI outputs below. Base your analysis ONLY on these outputs.\nDo NOT reuse conclusions from prior steps unless they are consistent with the outputs in this message.\nRecommend ONLY read-only 'show' commands. Never recommend configuration mode commands.\nIf you believe configuration is needed, instead recommend a 'show' command that would validate the hypothesis.\nIf the output indicates an error (e.g., '% Invalid input', 'Unknown command'), your analysis_text should say so and execution_judgment must be 'error' for that command.\nBe concise and practical.\n\nHere are the command outputs:\n\nCOMMAND: show route ipv6\nOUTPUT:\nshow route ipv6\n\nSun Sep 21 21:00:29.001 UTC\n\nCodes: C - connected, S - static, R - RIP, B - BGP, (>) - Diversion path\n       D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area\n       N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2\n       E1 - OSPF external type 1, E2 - OSPF external type 2, E - EGP\n       i - ISIS, L1 - IS-IS level-1, L2 - IS-IS level-2\n       ia - IS-IS inter area, su - IS-IS summary null, * - candidate default\n       U - per-user static route, o - ODR, L - local, G  - DAGR, l - LISP\n       A - access/subscriber, a - Application route\n       M - mobile route, r - RPL, t - Traffic Engineering, (!) - FRR Backup path\n\nGateway of last resort is not set\n\nC    2620:fc7:2:9::/64 is directly connected,\n      2d04h, GigabitEthernet0/0/0/1\nL    2620:fc7:2:9::2/128 is directly connected,\n      2d04h, GigabitEthernet0/0/0/1\nC    2620:fc7:2:10::/64 is directly connected,\n      2d04h, GigabitEthernet0/0/0/2\nL    2620:fc7:2:10::1/128 is directly connected,\n      2d04h, GigabitEthernet0/0/0/2\nL    2620:fc7:2:101::8/128 is directly connected,\n      2d04h, Loopback0\nC    2620:fc7:64:121::/64 is directly connected,\n      2d04h, GigabitEthernet0/0/0/0\nL    2620:fc7:64:121::2/128 is directly connected,\n      2d04h, GigabitEthernet0/0/0/0\nC    2620:fc7:64:231::/64 is directly connected,\n      2d04h, GigabitEthernet0/0/0/3\nL    2620:fc7:64:231::1/128 is directly connected,\n      2d04h, GigabitEthernet0/0/0/3\nRP/0/RP0/CPU0:B-ASBR-1#\n\n\nRecent triage history (last 3 steps, for context only):\n- ran: ['show ipv6 route'] \u2192 The command 'show ipv6 route' is incomplete, indicating that additional parameters are required to execute it properly.\n- ran: ['show ipv6 route'] \u2192 The command 'show ipv6 route' was incomplete, indicating a potential syntax issue or missing parameters.\n- ran: ['show route ipv6'] \u2192 The command 'show route ipv6' returned no output, indicating that there may be no IPv6 routes configured or available on the device. This could be related to the previous issues with BGP and neighbor relationships.\n\nReturn JSON only with this exact shape:\n{\n  \"analysis_text\": \"<short plain analysis derived strictly from the outputs above>\",\n  \"direction\": \"<next diagnostic steps in plain English; no config>\",\n  \"recommended\": [\n    {\"command\": \"<read-only show cmd 1>\", \"tech\": \"bgp|interfaces|ospf|routing|misc\", \"trust_hint\": \"low\"},\n    {\"command\": \"<read-only show cmd 2>\", \"tech\": \"interfaces\", \"trust_hint\": \"low\"}\n  ],\n  \"execution_judgment\": {\n    \"<the command you just analyzed>\": \"ok\" | \"partial\" | \"error\"\n  }\n}\n- The 'recommended' list MUST contain only read-only 'show' commands.\n- If the output indicates an invalid or failed command, set execution_judgment to \"error\".\n- Do not invent facts not present in the outputs.\n"
    }
  ],
  "raw": "{\n  \"analysis_text\": \"The command 'show route ipv6' executed successfully and displayed connected IPv6 routes. However, the gateway of last resort is not set, which may indicate a lack of routing protocols or static routes for IPv6 traffic beyond directly connected networks.\",\n  \"direction\": \"Investigate the status of routing protocols and interfaces to ensure proper IPv6 routing configuration.\",\n  \"recommended\": [\n    {\"command\": \"show ipv6 interface\", \"tech\": \"interfaces\", \"trust_hint\": \"low\"},\n    {\"command\": \"show bgp ipv6 summary\", \"tech\": \"bgp\", \"trust_hint\": \"low\"}\n  ],\n  \"execution_judgment\": {\n    \"show route ipv6\": \"ok\"\n  }\n}"
}